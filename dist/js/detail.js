"use strict";$(function(){var e=JSON.parse(window.localStorage.getItem("cart"));console.log(e);for(var n=0,s=0;s<e.length;s++)n+=+e[s].cart_number;console.log(n);var a=getCookie("nickname");a&&($(".loginbut").addClass("hide"),$(".register").addClass("hide"),$(".usernameNick").html("尊敬的    ".concat(a,"      会员您好")),$(".cartNumber").html("(".concat(n,")")),$(".CartNumber").html("".concat(n)));var o,t=getCookie("goods_id");t&&($.get("../php/detail.php","goodsId=".concat(t),null,"json").then(function(e){console.log(e),o=e[0],console.log(o);e='\n          <div class="enlarge hide"></div>\n          <div class="detailList pull-left">\n           <div class="mask hide"></div>\n            <p class="pull-left maskScale ">\n              <img src="'.concat(e[0].goods_big_logo,'" alt="" width="600px" height=\'500px\'>\n            </p>\n            <span>\n              <img class="slideChangesmall" src="../images/wd_kv.jpg" alt="" width="100px" height="100px" big="../images/zj19.png">\n            </span>  \n            <span>\n              <img class="slideChangesmall" src="').concat(e[0].goods_big_logo,'" alt="" width="100px" height="100px" big="../images/logo.jpg">\n            </span>   \n            <span>\n              <img class="slideChangesmall" bigpicture="').concat(e[0].goods_big_logo,'" data-id="').concat(e[0].goods_id,'" src="../images/small.jpg" alt="" big="../images/big.jpg" width="100px" height="100px">\n            </span>\n          </div>\n          <div class="goodsdetail pull-right">\n            <p class="goodsname">').concat(e[0].goods_name,'</p>\n            <p class="goodsId">商品 ID : ').concat(e[0].goods_id,'</p>\n            <p class="goodsprice">').concat(e[0].goods_price,'</p>\n            <span class="num">BUY GOODS</span>\n  \n            <span class="buyNum">\n              <button class="subNum" data-id=').concat(e[0].goods_id,'>-</button><input class="Number" type="text" value="1"><button class="addNum" data-id=').concat(e[0].goods_id,'>+</button>\n            </span>\n            <p class="buon">\n              <button class="btn btn-success goCat" data-id=').concat(e[0].goods_id,'>加入购物车</button>\n            <a  class="btn btn-warning" href="./list.html">继续去购物</a>\n            </p>\n        </div>\n      ');console.log($(".detail .detailList")),$(".detail").html(e),$(".detail").on("mouseenter",".slideChangesmall",function(){$(this).css("border","5px solid red").parent().siblings().children().css("border","5px solid black");var e=$(this).attr("big");$(this).parent().parent().children("p").children("img").css("border","0px solid black").attr("src",e)}),function(){$(".detailList").on("mouseover",function(){$(".enlarge").removeClass("hide"),$(".mask").removeClass("hide")}),$(".detailList").on("mouseout",function(){$(".enlarge").addClass("hide"),$(".mask").addClass("hide")});var s=$(".maskScale").innerHeight()*$(".enlarge").innerHeight()/1200,a=$(".maskScale").innerWidth()*$(".enlarge").innerWidth()/1200;$(".mask").css({height:s,width:a}),$(".detailList").on("mousemove",function(e){var n=(e=e||window.event).offsetX-a/2,e=e.offsetY-s/2;n<0&&(n=0),e<0&&(e=0),e>$(".maskScale").innerHeight()-s-40&&(e=$(".maskScale").innerHeight()-s),n>$(".maskScale").innerWidth()-a&&(n=$(".maskScale").innerWidth()-a),$(".mask").css({top:e,left:n});e=1200*e/$(".maskScale").innerHeight(),n=1200*n/$(".maskScale").innerWidth();$(".enlarge").css({backgroundPosition:"".concat(-n,"px ").concat(-e,"px")})})}(),console.log($(".buon  .goCat")),$(".goCat").on("click",function(){var e=JSON.parse(window.localStorage.getItem("cart"))||[];if(console.log(+$(".Number").val()),e.length){console.log("you");for(var n=0;n<e.length;n++)e[n].goods_id==t&&(e[n].cart_number=+e[n].cart_number+ +$(".Number").val())}else e.push(o),e[0].cart_number=+$(".Number").val();console.log(e,e[0].cart_number),window.localStorage.setItem("cart",JSON.stringify(e))}),$(".subNum").on("click",function(){console.log("现在进行减少",+$(".Number").val()-1),$(".Number").val()<=1?$(".Number").val(1):$(".Number").val(+$(".Number").val()-1)}),$(".addNum").on("click",function(){console.log("添加了"),$(".Number").val(+$(".Number").val()+1)})}),console.log(t)),$(".Sort").on("mouseover","li",function(){$(this).addClass("active").siblings().removeClass("active"),$(".SortMenue").stop().slideDown()}),$(".SortMenue").on("mouseout",function(){console.log(123123),$(this).removeClass("active"),$(".SortMenue").stop().slideUp()})});